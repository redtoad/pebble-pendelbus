/**
 * Copyright (C) 2016
 * Sebastian Rahlf <basti@redtoad.de>
 */

var Network = require('network');

// load initial network
var network = new Network({
  stations: [
    {id: 5,  name: 'Hufelandstraße', coords: {lat: 48.1923215, lon: 11.5748429}},
    {id: 16, name: 'Taunusstraße', coords: {lat: 0.0, lon: 0.0}},
    {id: 4,  name: 'Anton-Ditt-Bogen', coords: {lat: 48.190869, lon: 11.581334}},
    {id: 15, name: 'Ingoldstädter Straße (MVG)', coords: {lat: 0.0, lon: 0.0}},
    {id: 2,  name: 'Heidemannstraße 164', coords: {lat: 48.199901, lon: 11.602019}},
    {id: 12, name: 'Uptown', coords: {lat: 0.0, lon: 0.0}},
    {id: 7,  name: 'IT-Zentrum', coords: {lat: 48.189196, lon: 11.568373}},
    {id: 6,  name: 'FIZ / Projekthaus', coords: {lat: 48.193485, lon: 11.56996}},
    {id: 8,  name: 'Anhalterplatz (MVG)', coords: {lat: 48.186439, lon: 11.562207}},
    {id: 3,  name: 'Paul-Hindemith-Allee (MVG)', coords: {lat: 48.200704, lon: 11.605335}},
    {id: 10, name: 'Dostlerstraße', coords: {lat: 48.177132, lon: 11.560039}},
    {id: 0,  name: 'Freimann / Auslieferung', coords: {lat: 48.177183, lon: 11.560138}},
    {id: 13, name: 'Moosacher Straße 51', coords: {lat: 0.0, lon: 0.0}},
    {id: 17, name: 'Lauchstädter Straße', coords: {lat: 0.0, lon: 0.0}},
    {id: 11, name: 'Garching Business Campus', coords: {lat: 48.2516216, lon: 11.6370636}},
    {id: 14, name: 'IT-Zentrum West', coords: {lat: 0.0, lon: 0.0}},
    {id: 9,  name: 'Riesenfeldstraße / Tor 5', coords: {lat: 48.183001, lon: 11.562896}},
    {id: 1,  name: 'Lilienthalallee 32', coords: {lat: 48.195636, lon: 11.609449}}
  ],
  connections: [
    [ 5,  4, [[ 753,  756], [ 813,  816], [ 833,  836], [ 853,  856], [ 913,  916], [ 933,  936], [ 953,  956], [1013, 1016], [1033, 1036], [1053, 1056], [1113, 1116], [1133, 1136], [1153, 1156], [1213, 1216], [1233, 1236], [1253, 1256], [1313, 1316], [1333, 1336], [1353, 1356], [1413, 1416], [1433, 1436], [1453, 1456], [1513, 1516], [1533, 1536], [1553, 1556], [1613, 1616], [1633, 1636], [1653, 1656], [1713, 1716]]],
    [14, 13, [[ 743,  748], [ 803,  808], [ 823,  828], [ 843,  848], [ 903,  908], [ 923,  928], [ 943,  948], [1003, 1008], [1023, 1028], [1043, 1048], [1103, 1108], [1123, 1128], [1143, 1148], [1203, 1208], [1223, 1228], [1243, 1248], [1303, 1308], [1323, 1328], [1343, 1348], [1403, 1408], [1423, 1428], [1443, 1448], [1503, 1508], [1523, 1528], [1543, 1548], [1603, 1608], [1623, 1628], [1643, 1648], [1703, 1708], [1723, 1728], [1743, 1748]]],
    [ 9,  8, [[ 742,  743], [ 802,  803], [ 822,  823], [ 842,  843], [ 902,  903], [ 922,  923], [ 942,  943], [1002, 1003], [1022, 1023], [1042, 1043], [1102, 1103], [1122, 1123], [1142, 1143], [1202, 1203], [1222, 1223], [1242, 1243], [1302, 1303], [1322, 1323], [1342, 1343], [1402, 1403], [1422, 1423], [1442, 1443], [1502, 1503], [1522, 1523], [1542, 1543], [1602, 1603], [1622, 1623], [1642, 1643], [1702, 1703]]],
    [13, 14, [[ 754,  759], [ 814,  819], [ 834,  839], [ 854,  859], [ 914,  919], [ 934,  939], [ 954,  959], [1014, 1019], [1034, 1039], [1054, 1059], [1114, 1119], [1134, 1139], [1154, 1159], [1214, 1219], [1234, 1239], [1254, 1259], [1314, 1319], [1334, 1339], [1354, 1359], [1414, 1419], [1434, 1439], [1454, 1459], [1514, 1519], [1534, 1539], [1554, 1559], [1614, 1619], [1634, 1639], [1654, 1659], [1714, 1719]]],
    [17,  6, [[ 814,  820], [ 834,  840], [ 854,  900], [ 914,  920], [ 934,  940], [ 954, 1000], [1014, 1020], [1034, 1040], [1054, 1100], [1114, 1120], [1134, 1140], [1154, 1200], [1214, 1220], [1234, 1240], [1254, 1300], [1314, 1320], [1334, 1340], [1354, 1400], [1414, 1420], [1434, 1440], [1454, 1500], [1514, 1520], [1534, 1540], [1554, 1600], [1614, 1620], [1634, 1640], [1654, 1700], [1714, 1720], [1734, 1740]]],
    [ 2,  3, [[ 738,  739], [ 758,  759], [ 818,  819], [ 838,  839], [ 858,  859], [ 918,  919], [ 938,  939], [ 958,  959], [1018, 1019], [1038, 1039], [1058, 1059], [1118, 1119], [1138, 1139], [1158, 1159], [1218, 1219], [1238, 1239], [1258, 1259], [1318, 1319], [1338, 1339], [1358, 1359], [1418, 1419], [1438, 1439], [1458, 1459], [1518, 1519], [1538, 1539], [1558, 1559], [1618, 1619], [1638, 1639], [1658, 1659], [1718, 1719]]],
    [ 5,  6, [[ 747,  750], [ 807,  810], [ 827,  830], [ 847,  850], [ 907,  910], [ 927,  930], [ 947,  950], [1007, 1010], [1027, 1030], [1047, 1050], [1107, 1110], [1127, 1130], [1147, 1150], [1207, 1210], [1227, 1230], [1247, 1250], [1307, 1310], [1327, 1330], [1347, 1350], [1407, 1410], [1427, 1430], [1447, 1450], [1507, 1510], [1527, 1530], [1547, 1550], [1607, 1610], [1627, 1630], [1647, 1650], [1707, 1710], [1727, 1730]]],
    [ 1,  2, [[ 735,  738], [ 755,  758], [ 815,  818], [ 835,  838], [ 855,  858], [ 915,  918], [ 935,  938], [ 955,  958], [1015, 1018], [1035, 1038], [1055, 1058], [1115, 1118], [1135, 1138], [1155, 1158], [1215, 1218], [1235, 1238], [1255, 1258], [1315, 1318], [1335, 1338], [1355, 1358], [1415, 1418], [1435, 1438], [1455, 1458], [1515, 1518], [1535, 1538], [1555, 1558], [1615, 1618], [1635, 1638], [1655, 1658], [1715, 1718]]],
    [11,  6, [[ 805,  825], [ 905,  925], [1005, 1025], [1105, 1125], [1205, 1225], [1305, 1325], [1405, 1425], [1505, 1525], [1605, 1625], [1705, 1725], [1805, 1825]]],
    [ 6, 14, [[ 740,  743], [ 800,  803], [ 820,  823], [ 840,  843], [ 900,  903], [ 920,  923], [ 940,  943], [1000, 1003], [1020, 1023], [1040, 1043], [1100, 1103], [1120, 1123], [1140, 1143], [1200, 1203], [1220, 1223], [1240, 1243], [1300, 1303], [1320, 1323], [1340, 1343], [1400, 1403], [1420, 1423], [1440, 1443], [1500, 1503], [1520, 1523], [1540, 1543], [1600, 1603], [1620, 1623], [1640, 1643], [1700, 1703], [1720, 1723], [1740, 1743]]],
    [13, 10, [[ 748,  751], [ 808,  811], [ 828,  831], [ 848,  851], [ 908,  911], [ 928,  931], [ 948,  951], [1008, 1011], [1028, 1031], [1048, 1051], [1108, 1111], [1128, 1131], [1148, 1151], [1208, 1211], [1228, 1231], [1248, 1251], [1308, 1311], [1328, 1331], [1348, 1351], [1408, 1411], [1428, 1431], [1448, 1451], [1508, 1511], [1528, 1531], [1548, 1551], [1608, 1611], [1628, 1631], [1648, 1651], [1708, 1711], [1728, 1731], [1748, 1751]]],
    [ 3,  4, [[ 739,  745], [ 759,  805], [ 819,  825], [ 839,  845], [ 859,  905], [ 919,  925], [ 939,  945], [ 959, 1005], [1019, 1025], [1039, 1045], [1059, 1105], [1119, 1125], [1139, 1145], [1159, 1205], [1219, 1225], [1239, 1245], [1259, 1305], [1319, 1325], [1339, 1345], [1359, 1405], [1419, 1425], [1439, 1445], [1459, 1505], [1519, 1525], [1539, 1545], [1559, 1605], [1619, 1625], [1639, 1645], [1659, 1705], [1719, 1725]]],
    [15, 16, [[ 809,  811], [ 829,  831], [ 849,  851], [ 909,  911], [ 929,  931], [ 949,  951], [1009, 1011], [1029, 1031], [1049, 1051], [1109, 1111], [1129, 1131], [1149, 1151], [1209, 1211], [1229, 1231], [1249, 1251], [1309, 1311], [1329, 1331], [1349, 1351], [1409, 1411], [1429, 1431], [1449, 1451], [1509, 1511], [1529, 1531], [1549, 1551], [1609, 1611], [1629, 1631], [1649, 1651], [1709, 1711], [1729, 1731]]],
    [ 2,  1, [[ 802,  805], [ 822,  825], [ 842,  845], [ 902,  905], [ 922,  925], [ 942,  945], [1002, 1005], [1022, 1025], [1042, 1045], [1102, 1105], [1122, 1125], [1142, 1145], [1202, 1205], [1222, 1225], [1242, 1245], [1302, 1305], [1322, 1325], [1342, 1345], [1402, 1405], [1422, 1425], [1442, 1445], [1502, 1505], [1522, 1525], [1542, 1545], [1602, 1605], [1622, 1625], [1642, 1645], [1702, 1705], [1722, 1725]]],
    [ 5, 15, [[ 805,  809], [ 825,  829], [ 845,  849], [ 905,  909], [ 925,  929], [ 945,  949], [1005, 1009], [1025, 1029], [1045, 1049], [1105, 1109], [1125, 1129], [1145, 1149], [1205, 1209], [1225, 1229], [1245, 1249], [1305, 1309], [1325, 1329], [1345, 1349], [1405, 1409], [1425, 1429], [1445, 1449], [1505, 1509], [1525, 1529], [1545, 1549], [1605, 1609], [1625, 1629], [1645, 1649], [1705, 1709], [1725, 1729]]],
    [16, 17, [[ 811,  814], [ 831,  834], [ 851,  854], [ 911,  914], [ 931,  934], [ 951,  954], [1011, 1014], [1031, 1034], [1051, 1054], [1111, 1114], [1131, 1134], [1151, 1154], [1211, 1214], [1231, 1234], [1251, 1254], [1311, 1314], [1331, 1334], [1351, 1354], [1411, 1414], [1431, 1434], [1451, 1454], [1511, 1514], [1531, 1534], [1551, 1554], [1611, 1614], [1631, 1634], [1651, 1654], [1711, 1714], [1731, 1734]]],
    [ 8,  9, [[ 757,  758], [ 817,  818], [ 837,  838], [ 857,  858], [ 917,  918], [ 937,  938], [ 957,  958], [1017, 1018], [1037, 1038], [1057, 1058], [1117, 1118], [1137, 1138], [1157, 1158], [1217, 1218], [1237, 1238], [1257, 1258], [1317, 1318], [1337, 1338], [1357, 1358], [1417, 1418], [1437, 1438], [1457, 1458], [1517, 1518], [1537, 1538], [1557, 1558], [1617, 1618], [1637, 1638], [1657, 1658], [1717, 1718], [1737, 1738]]],
    [ 6,  7, [[ 750,  753], [ 810,  813], [ 830,  833], [ 850,  853], [ 910,  913], [ 930,  933], [ 950,  953], [1010, 1013], [1030, 1033], [1050, 1053], [1110, 1113], [1130, 1133], [1150, 1153], [1210, 1213], [1230, 1233], [1250, 1253], [1310, 1313], [1330, 1333], [1350, 1353], [1410, 1413], [1430, 1433], [1450, 1453], [1510, 1513], [1530, 1533], [1550, 1553], [1610, 1613], [1630, 1633], [1650, 1653], [1710, 1713], [1730, 1733]]],
    [ 7,  8, [[ 753,  757], [ 813,  817], [ 833,  837], [ 853,  857], [ 913,  917], [ 933,  937], [ 953,  957], [1013, 1017], [1033, 1037], [1053, 1057], [1113, 1117], [1133, 1137], [1153, 1157], [1213, 1217], [1233, 1237], [1253, 1257], [1313, 1317], [1333, 1337], [1353, 1357], [1413, 1417], [1433, 1437], [1453, 1457], [1513, 1517], [1533, 1537], [1553, 1557], [1613, 1617], [1633, 1637], [1653, 1657], [1713, 1717], [1733, 1737]]],
    [12, 10, [[ 744,  750], [ 804,  810], [ 824,  830], [ 844,  850], [ 904,  910], [ 924,  930], [ 944,  950], [1004, 1010], [1024, 1030], [1044, 1050], [1104, 1110], [1124, 1130], [1144, 1150], [1204, 1210], [1224, 1230], [1244, 1250], [1304, 1310], [1324, 1330], [1344, 1350], [1404, 1410], [1424, 1430], [1444, 1450], [1504, 1510], [1524, 1530], [1544, 1550], [1604, 1610], [1624, 1630], [1644, 1650], [1704, 1710]]],
    [10, 13, [[ 750,  754], [ 810,  814], [ 830,  834], [ 850,  854], [ 910,  914], [ 930,  934], [ 950,  954], [1010, 1014], [1030, 1034], [1050, 1054], [1110, 1114], [1130, 1134], [1150, 1154], [1210, 1214], [1230, 1234], [1250, 1254], [1310, 1314], [1330, 1334], [1350, 1354], [1410, 1414], [1430, 1434], [1450, 1454], [1510, 1514], [1530, 1534], [1550, 1554], [1610, 1614], [1630, 1634], [1650, 1654], [1710, 1714]]],
    [10, 12, [[ 751,  755], [ 811,  815], [ 831,  835], [ 851,  855], [ 911,  915], [ 931,  935], [ 951,  955], [1011, 1015], [1031, 1035], [1051, 1055], [1111, 1115], [1131, 1135], [1151, 1155], [1211, 1215], [1231, 1235], [1251, 1255], [1311, 1315], [1331, 1335], [1351, 1355], [1411, 1415], [1431, 1435], [1451, 1455], [1511, 1515], [1531, 1535], [1551, 1555], [1611, 1615], [1631, 1635], [1651, 1655], [1711, 1715], [1731, 1735], [1751, 1755]]],
    [ 4,  5, [[ 745,  747], [ 805,  807], [ 825,  827], [ 845,  847], [ 905,  907], [ 925,  927], [ 945,  947], [1005, 1007], [1025, 1027], [1045, 1047], [1105, 1107], [1125, 1127], [1145, 1147], [1205, 1207], [1225, 1227], [1245, 1247], [1305, 1307], [1325, 1327], [1345, 1347], [1405, 1407], [1425, 1427], [1445, 1447], [1505, 1507], [1525, 1527], [1545, 1547], [1605, 1607], [1625, 1627], [1645, 1647], [1705, 1707], [1725, 1727]]],
    [ 8,  7, [[ 743,  747], [ 803,  807], [ 823,  827], [ 843,  847], [ 903,  907], [ 923,  927], [ 943,  947], [1003, 1007], [1023, 1027], [1043, 1047], [1103, 1107], [1123, 1127], [1143, 1147], [1203, 1207], [1223, 1227], [1243, 1247], [1303, 1307], [1323, 1327], [1343, 1347], [1403, 1407], [1423, 1427], [1443, 1447], [1503, 1507], [1523, 1527], [1543, 1547], [1603, 1607], [1623, 1627], [1643, 1647], [1703, 1707]]],
    [14,  6, [[ 759,  802], [ 819,  822], [ 839,  842], [ 859,  902], [ 919,  922], [ 939,  942], [ 959, 1002], [1019, 1022], [1039, 1042], [1059, 1102], [1119, 1122], [1139, 1142], [1159, 1202], [1219, 1222], [1239, 1242], [1259, 1302], [1319, 1322], [1339, 1342], [1359, 1402], [1419, 1422], [1439, 1442], [1459, 1502], [1519, 1522], [1539, 1542], [1559, 1602], [1619, 1622], [1639, 1642], [1659, 1702], [1719, 1722]]],
    [ 4,  3, [[ 756,  801], [ 816,  821], [ 836,  841], [ 856,  901], [ 916,  921], [ 936,  941], [ 956, 1001], [1016, 1021], [1036, 1041], [1056, 1101], [1116, 1121], [1136, 1141], [1156, 1201], [1216, 1221], [1236, 1241], [1256, 1301], [1316, 1321], [1336, 1341], [1356, 1401], [1416, 1421], [1436, 1441], [1456, 1501], [1516, 1521], [1536, 1541], [1556, 1601], [1616, 1621], [1636, 1641], [1656, 1701], [1716, 1721]]],
    [ 1,  0, [[ 805,  806], [ 825,  826], [ 845,  846], [ 905,  906], [ 925,  926], [ 945,  946], [1005, 1006], [1025, 1026], [1045, 1046], [1105, 1106], [1125, 1126], [1145, 1146], [1205, 1206], [1225, 1226], [1245, 1246], [1305, 1306], [1325, 1326], [1345, 1346], [1405, 1406], [1425, 1426], [1445, 1446], [1505, 1506], [1525, 1526], [1545, 1546], [1605, 1606], [1625, 1626], [1645, 1646], [1705, 1706], [1725, 1726]]],
    [ 3,  2, [[ 801,  802], [ 821,  822], [ 841,  842], [ 901,  902], [ 921,  922], [ 941,  942], [1001, 1002], [1021, 1022], [1041, 1042], [1101, 1102], [1121, 1122], [1141, 1142], [1201, 1202], [1221, 1222], [1241, 1242], [1301, 1302], [1321, 1322], [1341, 1342], [1401, 1402], [1421, 1422], [1441, 1442], [1501, 1502], [1521, 1522], [1541, 1542], [1601, 1602], [1621, 1622], [1641, 1642], [1701, 1702], [1721, 1722]]],
    [ 9, 10, [[ 758,  800], [ 818,  820], [ 838,  840], [ 858,  900], [ 918,  920], [ 938,  940], [ 958, 1000], [1018, 1020], [1038, 1040], [1058, 1100], [1118, 1120], [1138, 1140], [1158, 1200], [1218, 1220], [1238, 1240], [1258, 1300], [1318, 1320], [1338, 1340], [1358, 1400], [1418, 1420], [1438, 1440], [1458, 1500], [1518, 1520], [1538, 1540], [1558, 1600], [1618, 1620], [1638, 1640], [1658, 1700], [1718, 1720], [1738, 1740]]],
    [ 6, 11, [[ 725,  745], [ 825,  845], [ 925,  945], [1025, 1045], [1125, 1145], [1225, 1245], [1325, 1345], [1425, 1445], [1525, 1545], [1625, 1645], [1725, 1745]]],
    [10,  9, [[ 740,  742], [ 800,  802], [ 820,  822], [ 840,  842], [ 900,  902], [ 920,  922], [ 940,  942], [1000, 1002], [1020, 1022], [1040, 1042], [1100, 1102], [1120, 1122], [1140, 1142], [1200, 1202], [1220, 1222], [1240, 1242], [1300, 1302], [1320, 1322], [1340, 1342], [1400, 1402], [1420, 1422], [1440, 1442], [1500, 1502], [1520, 1522], [1540, 1542], [1600, 1602], [1620, 1622], [1640, 1642], [1700, 1702]]],
    [ 7,  6, [[ 747,  750], [ 807,  810], [ 827,  830], [ 847,  850], [ 907,  910], [ 927,  930], [ 947,  950], [1007, 1010], [1027, 1030], [1047, 1050], [1107, 1110], [1127, 1130], [1147, 1150], [1207, 1210], [1227, 1230], [1247, 1250], [1307, 1310], [1327, 1330], [1347, 1350], [1407, 1410], [1427, 1430], [1447, 1450], [1507, 1510], [1527, 1530], [1547, 1550], [1607, 1610], [1627, 1630], [1647, 1650], [1707, 1710]]],
    [ 6,  5, [[ 750,  753], [ 810,  813], [ 830,  833], [ 850,  853], [ 910,  913], [ 930,  933], [ 950,  953], [1010, 1013], [1030, 1033], [1050, 1053], [1110, 1113], [1130, 1133], [1150, 1153], [1210, 1213], [1230, 1233], [1250, 1253], [1310, 1313], [1330, 1333], [1350, 1353], [1410, 1413], [1430, 1433], [1450, 1453], [1510, 1513], [1530, 1533], [1550, 1553], [1610, 1613], [1630, 1633], [1650, 1653], [1710, 1713], [ 802,  805], [ 822,  825], [ 842,  845], [ 902,  905], [ 922,  925], [ 942,  945], [1002, 1005], [1022, 1025], [1042, 1045], [1102, 1105], [1122, 1125], [1142, 1145], [1202, 1205], [1222, 1225], [1242, 1245], [1302, 1305], [1322, 1325], [1342, 1345], [1402, 1405], [1422, 1425], [1442, 1445], [1502, 1505], [1522, 1525], [1542, 1545], [1602, 1605], [1622, 1625], [1642, 1645], [1702, 1705], [1722, 1725]]],
    [ 0,  1, [[ 734,  735], [ 754,  755], [ 814,  815], [ 834,  835], [ 854,  855], [ 914,  915], [ 934,  935], [ 954,  955], [1014, 1015], [1034, 1035], [1054, 1055], [1114, 1115], [1134, 1135], [1154, 1155], [1214, 1215], [1234, 1235], [1254, 1255], [1314, 1315], [1334, 1335], [1354, 1355], [1414, 1415], [1434, 1435], [1454, 1455], [1514, 1515], [1534, 1535], [1554, 1555], [1614, 1615], [1634, 1635], [1654, 1655], [1714, 1715]]],
    [ 7, 14, null], // on foot
    [14,  7, null]  // on foot
  ]
});

// Anton-Ditt-Bogen -> IT-Zentrum West
var path = network.findPath(4, 14);
console.log(path);

// show path on Pebble
var UI = require('ui');

var stops = [];
path.forEach(function (station, no, list) {
  stops.push({
    title: station.name
  });
});
var menu = new UI.Menu({
  sections: [{
    title: 'Anton-Ditt-Bogen -> IT-Zentrum West',
    items: stops
  }]
});
menu.on('select', function(e) {
  console.log('Selected item #' + e.itemIndex + ' of section #' + e.sectionIndex);
  console.log('The item is titled "' + e.item.title + '"');
});
menu.show();
